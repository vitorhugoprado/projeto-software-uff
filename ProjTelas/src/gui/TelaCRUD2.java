package gui;

import connection.ConnectionFactory;
import dao.ProdutoDAO;
import java.sql.Connection;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;
import javax.swing.*;

/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */

/**
 *
 * @author aluno
 */
public class TelaCRUD2 extends javax.swing.JFrame {
private Connection con;
ProdutoDAO pdao = new ProdutoDAO();
    /**
     * Creates new form TelaCRUD2
     */
    public TelaCRUD2() {
        initComponents();
        setSize(410,500);
    }


    
    
    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        jInternalFrame1 = new javax.swing.JInternalFrame();
        simbolo = new javax.swing.JLabel();
        IncluirProduto = new javax.swing.JButton();
        ConsultarProduto = new javax.swing.JButton();
        AlterarProduto = new javax.swing.JButton();
        DeletarProduto = new javax.swing.JButton();
        sair = new javax.swing.JButton();
        voltar = new javax.swing.JButton();
        fundo = new javax.swing.JLabel();
        jPanel1 = new javax.swing.JPanel();

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);

        jInternalFrame1.setVisible(true);
        jInternalFrame1.getContentPane().setLayout(null);
        jInternalFrame1.getContentPane().add(simbolo);
        simbolo.setBounds(0, 0, 100, 100);

        IncluirProduto.setFont(new java.awt.Font("Times New Roman", 0, 18)); // NOI18N
        IncluirProduto.setIcon(new javax.swing.ImageIcon(getClass().getResource("/gui/IncluirProd.png"))); // NOI18N
        IncluirProduto.setToolTipText("");
        IncluirProduto.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                IncluirProdutoActionPerformed(evt);
            }
        });
        jInternalFrame1.getContentPane().add(IncluirProduto);
        IncluirProduto.setBounds(110, 70, 180, 50);

        ConsultarProduto.setFont(new java.awt.Font("Times New Roman", 0, 18)); // NOI18N
        ConsultarProduto.setIcon(new javax.swing.ImageIcon(getClass().getResource("/gui/LerProd.png"))); // NOI18N
        ConsultarProduto.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                ConsultarProdutoActionPerformed(evt);
            }
        });
        jInternalFrame1.getContentPane().add(ConsultarProduto);
        ConsultarProduto.setBounds(110, 140, 180, 50);

        AlterarProduto.setFont(new java.awt.Font("Times New Roman", 0, 18)); // NOI18N
        AlterarProduto.setIcon(new javax.swing.ImageIcon(getClass().getResource("/gui/Alterar Produto.jpg"))); // NOI18N
        AlterarProduto.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                AlterarProdutoActionPerformed(evt);
            }
        });
        jInternalFrame1.getContentPane().add(AlterarProduto);
        AlterarProduto.setBounds(110, 210, 180, 50);

        DeletarProduto.setFont(new java.awt.Font("Times New Roman", 0, 18)); // NOI18N
        DeletarProduto.setIcon(new javax.swing.ImageIcon(getClass().getResource("/gui/DeletarProd.png"))); // NOI18N
        DeletarProduto.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                DeletarProdutoActionPerformed(evt);
            }
        });
        jInternalFrame1.getContentPane().add(DeletarProduto);
        DeletarProduto.setBounds(110, 280, 180, 50);

        sair.setFont(new java.awt.Font("Times New Roman", 0, 18)); // NOI18N
        sair.setIcon(new javax.swing.ImageIcon(getClass().getResource("/gui/PARAPAPAPA.png"))); // NOI18N
        sair.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                sairActionPerformed(evt);
            }
        });
        jInternalFrame1.getContentPane().add(sair);
        sair.setBounds(230, 350, 130, 40);

        voltar.setFont(new java.awt.Font("Times New Roman", 0, 18)); // NOI18N
        voltar.setIcon(new javax.swing.ImageIcon(getClass().getResource("/gui/TAFICANDOAPERTADO.png"))); // NOI18N
        voltar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                voltarActionPerformed(evt);
            }
        });
        jInternalFrame1.getContentPane().add(voltar);
        voltar.setBounds(40, 350, 130, 40);

        fundo.setIcon(new javax.swing.ImageIcon(getClass().getResource("/gui/TelaCRUD.jpg"))); // NOI18N
        jInternalFrame1.getContentPane().add(fundo);
        fundo.setBounds(0, 0, 390, 430);

        jPanel1.setLayout(null);
        jInternalFrame1.getContentPane().add(jPanel1);
        jPanel1.setBounds(0, 0, 370, 380);

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addComponent(jInternalFrame1, javax.swing.GroupLayout.PREFERRED_SIZE, 397, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(0, 0, Short.MAX_VALUE))
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addComponent(jInternalFrame1, javax.swing.GroupLayout.PREFERRED_SIZE, 461, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(0, 0, Short.MAX_VALUE))
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void IncluirProdutoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_IncluirProdutoActionPerformed
     CadastroProduto prod = new CadastroProduto();
     prod.setVisible(true);
     this.dispose();
    }//GEN-LAST:event_IncluirProdutoActionPerformed

    private void ConsultarProdutoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_ConsultarProdutoActionPerformed
        String id;
        id=JOptionPane.showInputDialog(null,"Digite o Código do produto que deseja consultar as informações: ");
        
        pdao.buscarProduto(id);
    }//GEN-LAST:event_ConsultarProdutoActionPerformed

    private void AlterarProdutoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_AlterarProdutoActionPerformed
        
        String cod_prod;
        Object escolha[]={"selecione","nome","quantidade","preço","estoque minimo"};
        String produto=null;
        int quantidade=0;
        float preco=0;
        String resposta="";
        int estMin=0;
        while (!resposta.equals("não")){
            resposta=JOptionPane.showInputDialog("Deseja alterar algo?\n(sim/não)");
            if(resposta.equals("não")){
                JOptionPane.showMessageDialog(null,"OK, nada será alterado, então...");
                break;
            }
        cod_prod=JOptionPane.showInputDialog(null,"Digite o Código do produto que quer alterar as informações: ");
       
        JComboBox esc = new JComboBox(escolha);
        esc.setSelectedIndex(4);
        JOptionPane.showMessageDialog(null,esc,"Selecione",JOptionPane.QUESTION_MESSAGE);
        
        String esco=esc.getSelectedItem().toString();
        
        switch(esco){
            case "nome":
                pdao.editarProdutoNome(cod_prod,produto);
            break;
            case "quantidade":
                pdao.editarProdutoQuant(cod_prod,quantidade);
            break;
            case "preço":
                pdao.editarProdutoPreco(cod_prod,preco);
                break;
            case "estoque minimo":
                pdao.editarEstoqueMinimo(cod_prod,estMin);
                break;
            default:
                JOptionPane.showMessageDialog(null,"Deu erro");
        }
        }
    }//GEN-LAST:event_AlterarProdutoActionPerformed

    private void sairActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_sairActionPerformed
JOptionPane.showMessageDialog(null, "Obrigado por usar o programa! Volte sempre!");
this.dispose();    }//GEN-LAST:event_sairActionPerformed

    private void DeletarProdutoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_DeletarProdutoActionPerformed
 String cod_prod;
      cod_prod=JOptionPane.showInputDialog("Diga qual o código do produto que deseja excluir:");
      
      pdao.excluirProduto(cod_prod);
    }//GEN-LAST:event_DeletarProdutoActionPerformed

    private void voltarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_voltarActionPerformed
TelaGerente volt = new TelaGerente();
  volt.setVisible(true);
  this.dispose();        // TODO add your handling code here:
    }//GEN-LAST:event_voltarActionPerformed

    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        /* Set the Nimbus look and feel */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html 
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ClassNotFoundException ex) {
            java.util.logging.Logger.getLogger(TelaCRUD2.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (InstantiationException ex) {
            java.util.logging.Logger.getLogger(TelaCRUD2.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            java.util.logging.Logger.getLogger(TelaCRUD2.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(TelaCRUD2.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>

        /* Create and display the form */
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                new TelaCRUD2().setVisible(true);
            }
        });
    }

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton AlterarProduto;
    private javax.swing.JButton ConsultarProduto;
    private javax.swing.JButton DeletarProduto;
    private javax.swing.JButton IncluirProduto;
    private javax.swing.JLabel fundo;
    private javax.swing.JInternalFrame jInternalFrame1;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JButton sair;
    private javax.swing.JLabel simbolo;
    private javax.swing.JButton voltar;
    // End of variables declaration//GEN-END:variables
}
